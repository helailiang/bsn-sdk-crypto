1. #### 证书查询

| **接口地址**                                                 | /api/v1/ca/cert/detail                             |              |                   |                                                              |                      |
| ------------------------------------------------------------ | -------------------------------------------------- | ------------ | ----------------- | ------------------------------------------------------------ | -------------------- |
| **接口描述**                                                 | 证书查询详情通过证书体系编号和证书名称查询证书信息 | **调用方式** | POST              |                                                              |                      |
| **请求参数**                                                 |                                                    |              |                   |                                                              |                      |
| **序号**                                                     | **字段名**                                         | **字段**     | **类型**          | **必填**                                                     | **备注**             |
| 1                                                            | 证书体系编号                                       | certSysCode  | String            | Y                                                            | 根证书对应的体系编号 |
| 2                                                            | 证书名称                                           | certName     | String            | Y                                                            |                      |
| **请求示例**                                                 |                                                    |              |                   |                                                              |                      |
| ` {  "header": {    "timestamp": "String",    "mac": "String"  },  "body": {    "certSysCode": "sys00050",    "certName": "order1.ordernode.private.bsnbase.com"  } }` |                                                    |              |                   |                                                              |                      |
| **响应结果**                                                 |                                                    |              |                   |                                                              |                      |
| **序号**                                                     | **字段名**                                         | **字段**     | **类型**          | **备注**                                                     |                      |
| **CertDetail**                                               |                                                    |              |                   |                                                              |                      |
| 1                                                            | 证书体系编号                                       | certSysCode  | String            |                                                              |                      |
| 2                                                            | 证书名称                                           | certName     | String            |                                                              |                      |
| 3                                                            | 颁发者证书名称                                     | issuerName   | String            |                                                              |                      |
| 3                                                            | 算法名称                                           | keyAlgo      | Integer           |                                                              |                      |
| 4                                                            | 节点证书类型                                       | certType     | Integer           | 根证书；中间证书；节点证书；管理员证书；用户证书；组织证书； |                      |
| 5                                                            | 证书用途                                           | certUsage    | Integer           | 身份证书通讯证书根证书中间证书                               |                      |
| 6                                                            | 用户名                                             | user         | String            |                                                              |                      |
| 7                                                            | 序列号                                             | serialNumber | String            | 生成证书内容中所对应的序列号                                 |                      |
| 8                                                            | 证书内容                                           | certPem      | String            | 证书内容所对应的PEM格式数据                                  |                      |
| 9                                                            | 到期时间                                           | expiry       | String            | 2122-05-14 03:08:00                                          |                      |
| 10                                                           | 状态                                               | state        | Integer           | 1：正常2：已吊销 3：已失效                                   |                      |
| 11                                                           | 公钥内容                                           | pubKeyPem    | String            |                                                              |                      |
| 12                                                           | SKI                                                | ski          | String            | 证书拥有者身份标识                                           |                      |
| 13                                                           | AKI                                                | aki          | String            | 证书颁发者身份标识                                           |                      |
| 14                                                           | 证书深度                                           | pathlen      | int               | 证书深度                                                     |                      |
| 15                                                           | 私钥指纹                                           | keyCode      | String            | 对私钥做hash                                                 |                      |
| 16                                                           | 下级证书                                           | leafCert     | Array<CertDetail> |                                                              |                      |
| 17                                                           | 密钥ID                                             | keyId        | String            |                                                              |                      |
| **响应示例**                                                 |                                                    |              |                   |                                                              |                      |
| `{  "body": {    "code": 0,    "data": {      "certDetail": [        {          "certSysCode": "sys00050",          "certName": "order1.ordernode.private.bsnbase.com",          "issueName": "ordernode-ica",          "keyAlgo": 1,          "certType": 3,          "certUsage": 1,          "user": "rootuser",          "serialNumber": "610146228057593706025344684313210312765790545184",          "certPem": "-----BEGIN CERTIFICATE-----\nMIIDPjCCAuWgAwIBAgIUat/nMqSgUSfFHAPsTf+AsJ1w5SAwCgYIKoZIzj0EAwIw\nbjELMAkGA1UEBhMCQ04xEDAOBgNVBAgTB0JlaWppbmcxEDAOBgNVBAcTB0JlaWpp\nbmcxDDAKBgNVBAoTA0JzbjEVMBMGA1UECxMMaW50ZXJtZWRpYXRlMRYwFAYDVQQD\nEw1vcmRlcm5vZGUtaWNhMB4XDTIzMTIwOTExNDMwMFoXDTIzMTIwOTE0NTUwMFow\ngYAxCzAJBgNVBAYTAkNOMRAwDgYDVQQIEwdCZWlqaW5nMRAwDgYDVQQHEwdCZWlq\naW5nMQwwCgYDVQQKEwNCc24xEDAOBgNVBAsTB29yZGVyZXIxLTArBgNVBAMTJG9y\nZGVyMS5vcmRlcm5vZGUucHJpdmF0ZS5ic25iYXNlLmNvbTBZMBMGByqGSM49AgEG\nCCqGSM49AwEHA0IABAOH0hgAgHW3nDFuJQbz29NqdtpVF/igs+wddNSN9/SGOMPN\niyhRsMWMTq4thBkK/6WZEJAj5bGeJ/scO64lJkejggFMMIIBSDAOBgNVHQ8BAf8E\nBAMCB4AwDAYDVR0TAQH/BAIwADAdBgNVHQ4EFgQUnxc6BGVFXV9h9vZoqrAElX1t\nEqQwHwYDVR0jBBgwFoAUrysR+TXOpLMVrYDhb+vvgiOscXkwPgYDVR0RBDcwNYIN\nKi5ic25iYXNlLmNvbYIkb3JkZXIxLm9yZGVybm9kZS5wcml2YXRlLmJzbmJhc2Uu\nY29tMIGnBggqAwQFBgcIAQSBmnsiYXR0cnMiOnsiaGYuQWZmaWxpYXRpb24iOiJv\ncmRlcm5vZGUucHJpdmF0ZS5ic25iYXNlLmNvbSIsImhmLkVucm9sbG1lbnRJRCI6\nIm9yZGVyMS5vcmRlcm5vZGUucHJpdmF0ZS5ic25iYXNlLmNvbSIsImhmLlR5cGUi\nOiJvcmRlcmVyIiwicm9sZSI6Im9yZGVyZXIifX0wCgYIKoZIzj0EAwIDRwAwRAIg\neEh9wd8Ywrt1QBLOS2fQIMps6nksLgH7KBIMJcZlEWwCIAVBHgrZCWDoXbx7TTOD\nYtuYaPeRfiy/HYf5/23VGDel\n-----END CERTIFICATE-----\n",          "expiry": "2023-12-09 22:55:00",          "state": 1,          "pubKeyPem": "-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEA4fSGACAdbecMW4lBvPb02p22lUX\n+KCz7B101I339IY4w82LKFGwxYxOri2EGQr/pZkQkCPlsZ4n+xw7riUmRw==\n-----END PUBLIC KEY-----\n",          "ski": "9f173a0465455d5f61f6f668aab004957d6d12a4",          "aki": "af2b11f935cea4b315ad80e16febef8223ac7179",          "pathlen": -1,          "leafCert": null        },        {          "certSysCode": "sys00050",          "certName": "order1.ordernode.private.bsnbase.com",          "issueName": "ordernode-ica",          "keyAlgo": 1,          "certType": 3,          "certUsage": 2,          "user": "rootuser",          "serialNumber": "135689415111727187301011165652068378586802923688",          "certPem": "-----BEGIN CERTIFICATE-----\nMIIDXTCCAwSgAwIBAgIUF8SGGFNWh7skzOqfApBe0qNxqKgwCgYIKoZIzj0EAwIw\nbjELMAkGA1UEBhMCQ04xEDAOBgNVBAgTB0JlaWppbmcxEDAOBgNVBAcTB0JlaWpp\nbmcxDDAKBgNVBAoTA0JzbjEVMBMGA1UECxMMaW50ZXJtZWRpYXRlMRYwFAYDVQQD\nEw1vcmRlcm5vZGUtaWNhMB4XDTIzMTIwOTExNDMwMFoXDTIzMTIwOTE0NTUwMFow\ngYAxCzAJBgNVBAYTAkNOMRAwDgYDVQQIEwdCZWlqaW5nMRAwDgYDVQQHEwdCZWlq\naW5nMQwwCgYDVQQKEwNCc24xEDAOBgNVBAsTB29yZGVyZXIxLTArBgNVBAMTJG9y\nZGVyMS5vcmRlcm5vZGUucHJpdmF0ZS5ic25iYXNlLmNvbTBZMBMGByqGSM49AgEG\nCCqGSM49AwEHA0IABLTnrItl1hoCrjQOw0w5brfudeBZTHmVynMkp5nkg6OqMq0W\nOvSJkJfWN8ALSGXjyFW45bbiZ9LnEVJQ6P/rIPWjggFrMIIBZzAOBgNVHQ8BAf8E\nBAMCA6gwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB/wQC\nMAAwHQYDVR0OBBYEFHk4nLr+7CGZ2c8e4uwj4AeHAg2rMB8GA1UdIwQYMBaAFK8r\nEfk1zqSzFa2A4W/r74IjrHF5MD4GA1UdEQQ3MDWCDSouYnNuYmFzZS5jb22CJG9y\nZGVyMS5vcmRlcm5vZGUucHJpdmF0ZS5ic25iYXNlLmNvbTCBpwYIKgMEBQYHCAEE\ngZp7ImF0dHJzIjp7ImhmLkFmZmlsaWF0aW9uIjoib3JkZXJub2RlLnByaXZhdGUu\nYnNuYmFzZS5jb20iLCJoZi5FbnJvbGxtZW50SUQiOiJvcmRlcjEub3JkZXJub2Rl\nLnByaXZhdGUuYnNuYmFzZS5jb20iLCJoZi5UeXBlIjoib3JkZXJlciIsInJvbGUi\nOiJvcmRlcmVyIn19MAoGCCqGSM49BAMCA0cAMEQCIGyQkcsKJ6fZgh920t+Ceqx4\n6+FH4g7zn55U5Cgh+YhEAiAGL2yNwh5Poa8LkxYiXIwy8jRiHoP4umFI6pXDCui9\ndg==\n-----END CERTIFICATE-----\n",          "expiry": "2023-12-09 22:55:00",          "state": 1,          "pubKeyPem": "-----BEGIN PUBLIC KEY-----\nMFkwEwYHKoZIzj0CAQYIKoZIzj0DAQcDQgAEtOesi2XWGgKuNA7DTDlut+514FlM\neZXKcySnmeSDo6oyrRY69ImQl9Y3wAtIZePIVbjltuJn0ucRUlDo/+sg9Q==\n-----END PUBLIC KEY-----\n",          "ski": "79389cbafeec2199d9cf1ee2ec23e00787020dab",          "aki": "af2b11f935cea4b315ad80e16febef8223ac7179",          "pathlen": -1,          "leafCert": null        }      ]    },    "msg": "ok"  },  "header": {    "mac": "",    "timestamp": "2023-12-09 20:45:04"  } }` |                                                    |              |                   |                                                              |                      |